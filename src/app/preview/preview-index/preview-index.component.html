<!--
 Copyright 2021 NHS Digital
 
 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at
 
     http://www.apache.org/licenses/LICENSE-2.0
 
 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
-->

<div class="row">
    <div class="col-lg-10 col-md-10 col-sm-10 col-xs-12">
        <div *ngIf="isLoading">
            <ngx-skeleton-loader count="10"></ngx-skeleton-loader>
        </div>
        <article *ngIf="!isLoading" role="article" aria-labelledby="ariaid-title1">
            <article>
                <h1 class="title topictitle1">{{pageTitles.get(index)}}</h1>
                <div class="body">
                    <mdm-alert alertStyle="info" [showIcon]="true">
                        For preview only, this index page will not contain a description block. The final published output will include a description of this page.
                    </mdm-alert>
                </div>

                <!-- <div class="- topic/body body">
                    <p class="- topic/shortdesc shortdesc">Data Elements are the data items used within Data Sets.</p>
                    <p class="- topic/p p">Within this publication, the names of Data Elements are styled like this: <a
                            class="- topic/xref xref element"
                            href="https://datadictionary.nhs.uk/data_elements/nhs_number__mother_.html" target="_blank"
                            rel="external noopener">NHS NUMBER (MOTHER)</a>.</p>
                    <p class="- topic/p p">Data Elements are defined using Attribute definitions, although they may be
                        refined
                        for a
                        specific use case.</p>
                    <p class="- topic/p p">Data Elements specify how data are used in a particular business context. For
                        example,
                        when a child is born, a mother and a child are people the NHS collects data about. Each
                        <a class="- topic/xref xref class" href="https://datadictionary.nhs.uk/classes/patient.html"
                            target="_blank" rel="external noopener">PATIENT</a> will be identified using an <a
                            class="- topic/xref xref attribute"
                            href="https://datadictionary.nhs.uk/attributes/nhs_number.html" target="_blank"
                            rel="external noopener">NHS NUMBER</a>. The <a class="- topic/xref xref attribute"
                            href="https://datadictionary.nhs.uk/attributes/nhs_number.html" target="_blank"
                            rel="external noopener">NHS NUMBER</a> attribute of the <a class="- topic/xref xref class"
                            href="https://datadictionary.nhs.uk/classes/patient.html" target="_blank"
                            rel="external noopener">PATIENT</a> class is therefore used both in the context of
                        the mother and the baby. In this example there are two separate Data Elements, <a
                            class="- topic/xref xref element"
                            href="https://datadictionary.nhs.uk/data_elements/nhs_number__mother_.html" target="_blank"
                            rel="external noopener">NHS NUMBER (MOTHER)</a> and <a class="- topic/xref xref element"
                            href="https://datadictionary.nhs.uk/data_elements/nhs_number__baby_.html" target="_blank"
                            rel="external noopener">NHS NUMBER (BABY)</a> . These are both
                        linked to the common <a class="- topic/xref xref attribute"
                            href="https://datadictionary.nhs.uk/attributes/nhs_number.html" target="_blank"
                            rel="external noopener">NHS NUMBER</a> attribute and follow the same rules,
                        however the particular contexts of a mother and baby are different.
                    </p>
                    <p class="- topic/p p">The <a class="- topic/xref xref"
                            href="https://www.gov.uk/government/publications/open-standards-for-government/cross-platform-character-encoding-profile"
                            target="_blank" rel="external noopener">Open Standard for Government for encoding
                            characters</a> for government digital services and technology is <a
                            class="- topic/xref xref" href="https://tools.ietf.org/html/rfc3629" target="_blank"
                            rel="external noopener">UTF-8</a>, an
                        encoding form for <a class="- topic/xref xref"
                            href="http://www.unicode.org/versions/Unicode13.0.0/" target="_blank"
                            rel="external noopener">Unicode</a> character sets.</p>
                    <p class="- topic/p p">The following is the information about the type of codes available on a Data
                        Element:
                    </p>
                    <ul class="- topic/ul ul">
                        <li class="- topic/li li">National Codes:
                            <ul class="- topic/ul ul">
                                <li class="- topic/li li">The National Codes for the Data Element. For example: <a
                                        class="- topic/xref xref element"
                                        href="https://datadictionary.nhs.uk/data_elements/cancer_metastatic_disease_type.html"
                                        target="_blank" rel="external noopener">CANCER METASTATIC DISEASE
                                        TYPE</a></li>
                                <li class="- topic/li li">If there are no National Codes for the Data Element, there
                                    will be
                                    no
                                    National Codes section. For example: <a class="- topic/xref xref element"
                                        href="https://datadictionary.nhs.uk/data_elements/procedure_date__diagnostic_procedure_.html"
                                        target="_blank" rel="external noopener">PROCEDURE DATE (DIAGNOSTIC
                                        PROCEDURE).</a></li>
                            </ul>
                        </li>
                        <li class="- topic/li li">Default Codes:
                            <ul class="- topic/ul ul">
                                <li class="- topic/li li">An entry in this section indicates that in addition to the
                                    agreed
                                    National
                                    Codes for the Data Element, there are default codes applicable to that Data
                                    Element only. For example: <a class="- topic/xref xref element"
                                        href="https://datadictionary.nhs.uk/data_elements/administrative_category_code.html"
                                        target="_blank" rel="external noopener">ADMINISTRATIVE CATEGORY
                                        CODE</a></li>
                                <li class="- topic/li li">If there are no Default Codes for the Data Element, there will
                                    be
                                    no
                                    Default
                                    Codes section. For example: <a class="- topic/xref xref element"
                                        href="https://datadictionary.nhs.uk/data_elements/cancer_metastatic_disease_type.html"
                                        target="_blank" rel="external noopener">CANCER METASTATIC DISEASE
                                        TYPE</a>.</li>
                            </ul>
                        </li>
                        <li class="- topic/li li">Permitted National Codes:
                            <ul class="- topic/ul ul">
                                <li class="- topic/li li">If the Data Element uses a subset of the National Codes, there
                                    will be
                                    a
                                    Permitted National Codes section. For example: <a class="- topic/xref xref element"
                                        href="https://datadictionary.nhs.uk/data_elements/professional_registration_issuer_code__responsible_surgeon_.html"
                                        target="_blank" rel="external noopener">PROFESSIONAL REGISTRATION ISSUER
                                        CODE (RESPONSIBLE SURGEON)</a>.</li>
                            </ul>
                        </li>
                    </ul>
                </div> -->

                <article *ngFor="let topic of topics" class="topic">
                    <h2 class="title topictitle2">
                        <!-- <span class="wh_expand_btn expanded" role="button" aria-expanded="true" tabindex="0" aria-label="Collapse"></span> -->
                        {{topic.key}}
                        <a [id]="getTableOfContentsLink(topic)?.anchor"></a>
                    </h2>
                    <div class="body">
                        <div class="simpletable-container">
                            <table class="- topic/simpletable simpletable table table-striped table-sm">
                                <colgroup>
                                    <col style="width:100%">
                                </colgroup>
                                <thead>
                                    <tr class="- topic/sthead sthead thead-light">
                                        <th class="- topic/stentry stentry" scope="col"
                                            id="data_elements.a__stentry__1">Item Name</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngFor="let item of topic.items">
                                        <td class="- topic/stentry stentry" headers="data_elements.a__stentry__1">
                                            <a class="{{item.stereotype}}" uiSref="app.container.preview.detail"
                                                [uiParams]="{ branch: branch, index: index, detail: item.catalogueId }">{{item.name}}</a>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </article>               
            </article>
        </article>
    </div>

    <nav role="navigation" id="toc" class="col-lg-2 d-none d-lg-block navbar d-print-none">
        <mdm-preview-toc [links]="tableOfContentLinks" (navigating)="onTableOfContentsClick($event)">        
        </mdm-preview-toc>
    </nav>    
</div>